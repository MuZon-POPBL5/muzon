<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS && JS-->
  <!-- CUSTOM BOOTSTRAP v5.1.3 -->
    <link rel="stylesheet"  type="text/css" href="css/main.css">
  <script src="/lib/js/bootstrap.min.js"></script>
</head>

<body>  
    <div th:fragment="user-form" th:with="disableFields=!${editMode} and ${#authorization.expression('hasRole(''ROLE_USER'')')}">

	<div class="d-flex justify-content-center container">
		<form class="form" role="form" autocomplete="off" th:object="${userForm}"
			th:action="${signup}?@{/signup}:(${editMode} ?@{/editUser} :@{/userForm})" method="post">

			<input class="form-control" type=hidden th:field="${userForm.id}" th:if="${editMode}">
			<input class="form-control" type=hidden name="password" value="xxxx" th:if="${editMode}">


			<div class="form-group row">
				<div class="form-group mb-2">
					<div class="input-group">
						<input class="form-control" type="text" th:field="${userForm.firstName}"
							th:disabled="${disableFields}" placeholder="Name">
						<div class="alert-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">Name
							Error</div>
					</div>
	
				</div>				
			</div>
			<div class="form-group row">
				<div class="form-group mb-2">
					<div class="input-group">						
						<input class="form-control" type="email" th:field="${userForm.email}"
							th:disabled="${disableFields}" placeholder="Email">
						<div class="alert-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Name Error</div>
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="form-group mb-2">
					<input class="form-control" type="text" th:field="${userForm.username}"
						th:disabled="${disableFields}" placeholder="Username">
					<div class="alert-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Name
						Error</div>
				</div>
			</div>
			<div class="form-group row" th:if="${editMode==null or editMode==false}">
				<div class="form-group mb-2">
					<input class="form-control" type="password" th:field="${userForm.password}"
						th:disabled="${disableFields}" placeholder="Password">
					<div class="alert-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Name
						Error</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="form-group mb-2">
					<select class="form-control" th:size="${signup}?1:3" th:field="${userForm.roles}"
						th:disabled="${disableFields}">
						<option th:each="role :${roles}" th:value="${role.id}" th:text="${role.name}">
						</option>
					</select>
					<div class="alert-danger" th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}">Name Error
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-lg-12 text-center">
					<a class="btn btn-secondary" th:href="@{'/userForm/cancel'}">Cancel</a>
					<button type="button" class="btn btn-secondary" data-toggle="modal" th:if="${editMode}"
						data-target="#changePasswordModal">Change Password</button>
					<input type="submit" class="btn btn-primary" value="Save Changes"
						th:value="${editMode}?'Save User':'Create User'">
				</div>
			</div>
			<div class="alert alert-danger text-center" th:if="${formErrorMessage}" th:text="${formErrorMessage}">Error
				MEssage</div>
			<div class="alert alert-success text-center d-none" id="formSuccess" th:if="${editMode}">Success MEssage
			</div>
		</form>
	</div>
</div>





---------------------



<div th:fragment="user-form2" class="d-flex justify-content-center container">
	<div>
		<form>

			<div class="form-group mb-2">
				<div class="input-group">
					<input type="text" class="form-control" id="validationDefaultUsername" placeholder="Username"
						required>
				</div>

			</div>
			<div class="form-group mb-2">
				<input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
					placeholder="Enter email">

			</div>
			<div class="form-group mb-2">
				<input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
			</div>

			<div class="form-group">
				<div class="form-check">
					<input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
					I read and agree to Terms & Conditions
					</label>
				</div>
			</div>
			<div class="d-flex justify-content-center mt-4 mb-2">
				<button class="container btn btn-dark-teal" type="submit">Register</button>
			</div>
		</form>
	</div>

</div>


---------------------


<div th:fragment="user-formSignUp" th:with="disableFields=!${editMode} and ${#authorization.expression('hasRole(''ROLE_USER'')')}">

	<div class="d-flex justify-content-center container">
		<form class="form" role="form" autocomplete="off" th:object="${userForm}" th:action="@{/signup}" method="post">

			<div class="form-group row">
				<div class="form-group">
					<div class="form-floating mb-1">
						<input class="form-control" id="floatingInput" type="text" th:field="${userForm.firstName}"
						th:disabled="${disableFields}">
							<label for="floatingInput">Name</label>
						<div class="alert-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">Name
							Error</div>
					</div>					
				</div>
			</div>
			<div class="form-group row">
				<div class="form-group">
					<div class="form-floating mb-1">
						<input class="form-control" id="floatingInput" type="email" th:field="${userForm.email}"
							th:disabled="${disableFields}">
							<label for="floatingInput">Email</label>
						<div class="alert-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Name Error
						</div>
					</div>					
				</div>
			</div>

			<div class="form-group row">
				<div class="form-group">
					<div class="form-floating mb-1">
						<input class="form-control" id="floatingInput" type="text" th:field="${userForm.username}"
						th:disabled="${disableFields}">
							<label for="floatingInput">Username</label>
							<div class="alert-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Name
								Error</div>
					</div>					
				</div>
			</div>
			<div class="form-group row" th:if="${editMode==null or editMode==false}">
				<div class="form-group">
					<div class="form-floating mb-1">
						<input class="form-control" id="floatingInput" type="password" th:field="${userForm.password}"
						th:disabled="${disableFields}">
						<label for="floatingInput">Password</label>
					<div class="alert-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Name
						Error</div>
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="form-group">
					<div class="form-floating mb-1">
						<input class="form-control" id="floatingInput" type="text" th:field="${userForm.address}"
						th:disabled="${disableFields}">
						<label for="floatingInput">Address</label>
					<div class="alert-danger" th:if="${#fields.hasErrors('address')}" th:errors="*{address}">Name
						Error</div>
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="d-flex justify-content-center mt-4 mb-2">
					<a class="btn btn-secondary" th:href="@{'/'}">Back</a>
					<input type="submit" class="btn btn-primary" value="Register">
				</div>

				<div class="form-group row d-none">
					<div class="form-group mb-2">
						<select class="form-control" th:size="${signup}?1:3" th:field="${userForm.roles}"
							th:disabled="${disableFields}">
							<option th:each="role :${roles}" th:value="${role.id}" th:text="${role.name}">
							</option>
						</select>
						<div class="alert-danger" th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}">Name Error
						</div>
					</div>
				</div>
			</div>
			<div class="alert alert-danger text-center" th:if="${formErrorMessage}" th:text="${formErrorMessage}">Error
				MEssage</div>
			<div class="alert alert-success text-center d-none" id="formSuccess" th:if="${editMode}">Success MEssage
			</div>
		</form>
	</div>
	<p class="text-center">Already have an account? <a href="#" th:href="@{/signin}">Sign In</a></p>
</div>



</body>
</html>
